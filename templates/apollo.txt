import ApolloConfig from '@ioc:Apollo/Config';
import Env from '@ioc:Adonis/Core/Env';

const isProd = Env.get('NODE_ENV') === 'production';

const config: ApolloConfig = {
  schemas: isProd ? 'app/Schemas' : 'build/app/Schemas',
  resolvers: isProd ? 'app/Resolvers' : 'build/app/Resolvers',
  path: '/graphql',
  apolloServer: {
    introspection: !isProd,
  },
};

export default config;
